---
title: "Практическое занятие №6. Группы перестановок"
author: "Юрченков Иван Александрович"
date: "14 03 2022"
output: 
  word_document: 
    highlight: kate
    fig_width: 8
    fig_height: 8
    keep_md: yes
  html_document: 
    toc: yes
    fig_width: 8
    fig_height: 8
---

# **Множество перестановок**

## Определение перестановки

**Определение**. Перестановками называют множество всевозможных биекций $\pi:X \rightarrow X$ на конечном множестве натуральных чисел: $X = \{1, 2, \dots, n\}, n \in \mathbf{N}$.

Стоит обозначить сколько **всевозможных биекций** можно составить на множестве $X = \{1, 2, \dots, n\}$:

$$
X = \{1\} \rightarrow M = \{[1]\} \rightarrow capM = 1
$$

$\ $

$$
X = \{1, 2\} \rightarrow M = \{[1, 2], [2, 1]\} \rightarrow capM = 2
$$

$\ $

$$
X = \{1, 2, 3\} \rightarrow M = \begin{Bmatrix}[1, 2, 3]& [1, 3, 2] \\ [2, 1, 3] & [2, 3, 1] \\ [3, 1, 2]& [3, 2, 1]\end{Bmatrix} \rightarrow capM = 6
$$

$\ $

$$
X = \{1, 2, 3, 4\} \rightarrow 
M = \begin{Bmatrix} [1, 2, 3, 4] & [2, 1, 3 , 4] & [3, 1, 2, 4] & [4, 1, 2, 3] \\
                    [1, 2, 4, 3] & [2, 1, 4 , 3] & [3, 1, 4, 2] & [4, 1, 3, 2] \\
                    [1, 3, 2, 4] & [2, 3, 1 , 4] & [3, 2, 1, 4] & [4, 2, 1, 3] \\
                     [1, 3, 4, 2] & [2, 3, 4 , 1] & [3, 2, 4, 1] & [4, 2, 3, 1] \\
                     [1, 4, 2, 3] & [2, 4, 1, 3] & [3, 4, 1, 2] & [4, 3, 1, 2] \\
                     [1, 4, 3, 2] & [2, 4, 3, 1] & [3, 4, 2, 1] & [4, 3, 2, 1]\end{Bmatrix} \rightarrow capM = 24
$$


$\ $

$$
\dots
$$

$\ $

$$
X = \{1, 2, \dots, n\} \rightarrow capM = n!
$$

Получаем, что *перестановка* -- подсчет всевозможных биекций на подмножестве натуральных чисел.

## Запись элементов множества перестановок

### Таблица перестановок

Элементы множества перестановок удобно записывать в виде табличек размером $2 \times n$, где в верхней строчке располагаются соотвественно все числа из множества $X$ в упорядоченном виде по возрастанию, а в нижней строчке собственно одна из реализаций перетасовки данного множества:

$$
\pi = \begin{pmatrix} 1 & 2 & 3 & 4 & \dots & n \\ 
                \pi(1) & \pi(2) & \pi(3) & \pi(4) & \dots & \pi(n) \end{pmatrix} =
      \begin{pmatrix} 1 & 2 & 3 & 4 & \dots & n \\
                    p_1 & p_2 & p_3 & p_4 & \dots & p_n \end{pmatrix}            
$$
где $\forall i \in X \rightarrow \pi(i) = p_i \in X$

**Пример**. Можно задать конкретную реализацию элемента множества перестановок для множества $X = \{1, 2, 3, 4\}$ относительно конкретного правила $\sigma:X \rightarrow X$: 

$$
\sigma = \begin{pmatrix} 1 & 2 & 3 & 4 \\ 
                        3 & 1 & 2 & 4 \end{pmatrix}
$$
в конкретном примере можно заметить правила биекции для перетасовки элементов, которые устанавливает $\sigma$, а именно:

$$
1 \rightarrow 3; \ \ \ 2 \rightarrow 1; \ \ \  3 \rightarrow 2; \ \ \ 4 \rightarrow 4;
$$
или если формально, то
$$
\sigma(1) = 3; \ \ \sigma(2) = 1; \ \  \sigma(3) = 2; \ \ \sigma(4) = 4.
$$

*Из примера также видно, что перестановки могут образовывать замкнутые циклы, а также независимые единицы, не меняющиеся в результате действия перестановки*.

Давайте расставим в примере выше отображения в более удобном порядке для того, чтобы увидеть эти циклы переходов:

$$
\sigma(1) = 3 \rightarrow \sigma(3) = 2 \rightarrow  \sigma(2) = 1; \ \ \  \sigma(4) = 4.
$$

Тогда мы можем с точностью до отображения попробовать переставить столбцы в перестановке $\sigma$:

$$
\sigma = \begin{pmatrix} 1 & 3 & 2 & 4 \\ 3 & 2 & 1 & 4 \end{pmatrix}.
$$

Из данных рассуждений вытекает следующее **утверждение**: *элементы множества перестановок являются эквивалентными сами себе с точностью до перестановки столбцов в табличной записи*.

То есть:

$$
v = \begin{pmatrix} 1 & 2 & 3 & 4 & 5  \\ 2 & 1 & 4 & 5 & 3 \end{pmatrix} = 
    \begin{pmatrix} 2 & 1 & 3 & 5 & 4  \\ 1 & 2 & 4 & 3 & 5 \end{pmatrix}
$$

и любая перестановка строго задается своим правилом отображения $\forall i \in X \rightarrow v(i) = r_i \in X$.

### Циклы перестановок

Из примера табличной записи перестановки можно убедиться в том, что перестановка может иметь не единственную возможную запись. Более удобным в ситуациях с исследованием перестановок может оказаться цикловая запись перестановки:

$$
    \pi = (1, 2, 3, \dots, n-1, n) = \begin{pmatrix} 1&2&3&\dots& n-1 &n \\ 2&3&4&\dots&n&1 \end{pmatrix}.
$$

Выше показан пример цикловой записи в круглых скобках в виде вектора чисел. Такая запись мнемонически показывает как каждое предыдушее число переходит по правилу в следующее по порядку следования в векторе. Однако, возникает вопрос как записать перестановку, содержащую непересекающиеся циклы или независимые элементы.

Покажем на примере:

$$
v = \begin{pmatrix} 1 & 2 & 3 & 4 & 5 & 6  \\ 2 & 1 & 4 & 5 & 3 & 6 \end{pmatrix}.
$$

Правило перестановки $v$ имеет следующие переходы:

$$
 v(1) = 2 \rightarrow v(2) = 1; \\
 v(3) = 4 \rightarrow v(4) = 5 \rightarrow v(5) = 3; \\
 v(6) = 6
$$

и цикловая запись будет выглядеть следующим образом:

$$
v = (1, 2) \cdot (3, 4, 5) \cdot (6).
$$

Таким образом **любая перестановка конечного подмножества элементов натуральных чисел может быть записана в виде произведения непересекающихся циклов**.

Заметим, что записи в виде циклов перестановок $v$ и $v^{'}$:

$$
v = (1, 2) \cdot (3, 4, 5) \cdot (6);\ \ v^{'} = (1, 2) \cdot (3, 4, 5).
$$

идентичны с точностью до правила перемешивания элементов подмножества. То есть, другими словами, *независимые элементы перестановки могут не являться элементами цикловой записи перестановки*.

**NB**. Цикловая запись элемента множества перестановок единственна с точностью до расстановки цикла в цикловой записи. Другими словами, **непересекающиеся циклы коммутируют относительно операции умножения**.

$$
v = (1,3,2)\cdot(5,4) = (5,4)\cdot (1,3,2)
$$


### Представление в виде конечного результата перестановки

Элемент множества перестановки также может быть записан в виде списка чисел в $[ \ ]$ квадратных скобках, обозначая вторую строчку табличной записи или, собственно, уже результат перестановки упорядоченного подмножества натуральных чисел $X = \{1, 2, \dots, n\}, n \in \mathbf{N}$.

**Пример записи**:

$$
\pi = [1, 3, 5, 4, 2] = \begin{pmatrix} 1 & 2 & 3 & 4 & 5 \\ 1& 3& 5& 4& 2 \end{pmatrix} = (1)\cdot(2,3,5)\cdot(4) = (2, 3, 5).
$$
Первый пример показывает нам как записывается конечный результат перестановки, далее уже интерпретация такой записи.

## Вывод

Таким образом, мы научились задавать элементы множества перестановок и считать количество элементов произвольного множества перестановок.

# **Группа перестановок**

## Групповая операция перестановок

**Определение**. Пусть $\sigma$ и $\pi$ это две перестановки (два правила перетасовки) одного и того же подмножества натуральных чисел $X = \{1, 2, \dots, n\}, n\in \mathbf{N}$. Тогда операция композиции двух элементов множества перестановок $\sigma \circ \pi = \delta$ дают новое правило перестановки п оследующему правилу: 

$$
\pi: \forall i \in X\ \ \ \pi(i) = p_i \in X\\
\sigma: \forall i \in X \ \ \ \sigma(p_i) = t_i  \in X \\
\ \\
\sigma \circ \pi : \forall i \in X \ \ \ (\sigma\circ\pi) (i) = \sigma(\pi(i)) = t_i \in X
$$

**Пример**. Проиллюстрируем пример композиции двух элементов множества перестановок:

$$
\pi = [3, 2, 1, 4]\\
\sigma = [2, 3, 4, 1]
$$

$$
\sigma \circ \pi = \begin{pmatrix} 1&2&3&4 \\ 2&3&4&1 \end{pmatrix} \circ \begin{pmatrix} 1&2&3&4 \\ 3&2&1&4 \end{pmatrix} = \begin{pmatrix} 3&2&1&4 \\ 4&3&2&1 \end{pmatrix} \circ  \begin{pmatrix} 1&2&3&4 \\ 3&2&1&4 \end{pmatrix} = \begin{pmatrix} 1&2&3&4 \\4&3&2&1 \end{pmatrix}
$$

Проследуем подробно за всеми преобразованиями для того, чтобы понять как мы произвели эту операцию:

$$
\pi(1) = 3 \rightarrow \sigma(3) = 4 \rightarrow \sigma(\pi(1)) = 4 \\
\pi(2) = 2 \rightarrow \sigma(2) = 3 \rightarrow \sigma(\pi(2)) = 3 \\
\pi(3) = 1 \rightarrow \sigma(1) = 2 \rightarrow \sigma(\pi(3)) = 2 \\
\pi(4) = 4 \rightarrow \sigma(4) = 1 \rightarrow \sigma(\pi(4)) = 1
$$


## Коммутативность операции композиции

В общем случае, операция композиции элементов множества перестановок не является коммутативной. Покажем это обстоятельство на том же самом примере выше:

Для операции $\sigma \circ \pi$, где сначала к $X$ применяется правило $\pi$, а затем правило $\sigma$:

$$
\sigma \circ \pi = \begin{pmatrix} 1&2&3&4 \\ 2&3&4&1 \end{pmatrix} \circ \begin{pmatrix} 1&2&3&4 \\ 3&2&1&4 \end{pmatrix} = \begin{pmatrix} 3&2&1&4 \\ 4&3&2&1 \end{pmatrix} \circ  \begin{pmatrix} 1&2&3&4 \\ 3&2&1&4 \end{pmatrix} = \begin{pmatrix} 1&2&3&4 \\4&3&2&1 \end{pmatrix}.
$$


Для операции $\pi \circ \sigma$, где сначала к $X$ применяется правило $\sigma$, а затем правило $\pi$:

$$
\pi \circ \sigma = \begin{pmatrix} 1&2&3&4 \\ 3&2&1&4 \end{pmatrix} \circ  \begin{pmatrix} 1&2&3&4 \\ 2&3&4&1 \end{pmatrix} = \begin{pmatrix} 2&3&4&1 \\ 2&1&4&3 \end{pmatrix} \circ  \begin{pmatrix} 1&2&3&4 \\ 2&3&4&1 \end{pmatrix} = \begin{pmatrix} 1&2&3&4 \\2&1&4&3 \end{pmatrix}.
$$

Приведение хотя бы одного примера, где нарушается коммутативность операции доказывает ее некоммутативность в общем смысле.

## Определение группы перестановок

**Определение**. Множество всех биекций $\delta: X \rightarrow X$ подмножества натуральных чисел $X = \{1 , 2, 3, \dots, n\}$ и заданная на данном множестве операция композиции элементов множеств $\forall \sigma, \pi \in \delta: \sigma \circ \pi = \gamma \ne \pi \circ \sigma$ образуют симметрическую группу $S_n$ или группу перестановок $G = <S_n, \circ>$:

A1: $\forall a, b, c \in S_n: (a \circ b) \circ c = a \circ (b \circ c) = a \circ b \circ c = d \in S_n$

A2: $\exists ! e\in S_n: \ \ a\circ e = e\circ a = a \in S_n$

A3: $\forall a\in S_n\ \ \  \exists ! a^{-1}: a\circ a^{-1} = a^{-1} \circ a = e$.

Для соблюдения всех аксиом группы $S_n$ содержит в себе следующие элементы:

1. $e = \begin{pmatrix} 1 & 2 & \dots & n \\ 1 & 2 & \dots & n  \end{pmatrix} \in S_n$

2. $\forall a\in S_n: a = \begin{pmatrix} 1 & 2 & \dots & n \\ a_1 & a_2 & \dots & a_n  \end{pmatrix} \ \ \exists ! a^{-1} = \begin{pmatrix} a_1 & a_2 & \dots & a_n \\ 1 & 2 & \dots & n  \end{pmatrix}$

## Изоморфизм группы поворотов и отражений

$R_{0} = \begin{pmatrix} 1 & 2 & 3 \\ 1 & 2 & 3\end{pmatrix}$, $R_{120} = \begin{pmatrix} 1 & 2 & 3 \\ 2 & 3 & 1 \end{pmatrix}$,$R_{240} = \begin{pmatrix} 1 & 2 & 3 \\ 3 & 1 & 2 \end{pmatrix}$, 

$\sigma_{1} = \begin{pmatrix} 1 & 2 & 3 \\ 1 & 3 & 2 \end{pmatrix}$ , $\sigma_{2} = \begin{pmatrix} 1 & 2 & 3 \\ 3 & 2 & 1 \end{pmatrix}$, $\sigma_{3} =\begin{pmatrix} 1 & 2 & 3 \\ 2 & 1 & 3\end{pmatrix}$

$$
R_{120} \circ \sigma_1 = \begin{pmatrix} 1 & 2 & 3 \\ 2 & 3 & 1 \end{pmatrix} \circ \begin{pmatrix} 1 & 2 & 3 \\ 1 & 3 & 2 \end{pmatrix} =  \begin{pmatrix} 1 & 3 & 2 \\ 2 & 1 & 3 \end{pmatrix} \circ \begin{pmatrix} 1 & 2 & 3 \\ 1 & 3 & 2 \end{pmatrix} = \begin{pmatrix} 1 & 2 & 3 \\ 2 & 1 & 3 \end{pmatrix} = \sigma_3
$$

$$
\sigma_1 \circ R_{120}  = \begin{pmatrix} 1 & 2 & 3 \\ 1 & 3 & 2 \end{pmatrix} \circ \begin{pmatrix} 1 & 2 & 3 \\ 2 & 3 & 1 \end{pmatrix} = \begin{pmatrix} 2 & 3 & 1 \\ 3 & 2 & 1 \end{pmatrix} \circ \begin{pmatrix} 1 & 2 & 3 \\ 2 & 3 & 1 \end{pmatrix}  = \begin{pmatrix} 1 & 2 & 3 \\ 3 & 2 & 1 \end{pmatrix} = \sigma_2
$$

# **Порядки элементов группы $S_n$**


## Порядок элемента группы $S_n$

Чтобы выяснить порядок произвольного элемента группы $S_n$ необходимо для конкретного элемента группы $a \in S_n$ исследовать его сходимость к $e \in S_n$ при последовательном применении групповой операции к нему же: $a^{k} = e = a \circ a \circ \dots \circ a$. Порядок элемента $a \in S_n$ будет равен $k$ -- количеству примененных групповых операций для достижения $e \in S_n$.

**Пример**. Рассмотрим группу $S_5$. Возьмем в ней элемент $a = \begin{pmatrix} 1 & 2  & 3 & 4 & 5 \\ 3 & 1 & 2 & 5 & 4 \end{pmatrix}$

$$
  a = \begin{pmatrix} 1 & 2  & 3 & 4 & 5 \\ 3 & 1 & 2 & 5 & 4 \end{pmatrix} = (1, 3, 2) \cdot (4, 5)
$$

Применение 1 раз групповой операции к элементу $a$ приведет нас к следующему:

$$
a \circ a = \begin{pmatrix} 1 & 2  & 3 & 4 & 5 \\ 3 & 1 & 2 & 5 & 4 \end{pmatrix} \circ
            \begin{pmatrix} 1 & 2  & 3 & 4 & 5 \\ 3 & 1 & 2 & 5 & 4 \end{pmatrix} = 
            \begin{pmatrix} 3 & 1  & 2 & 5 & 4 \\ 2 & 3 & 1 & 4 & 5 \end{pmatrix} \circ
            \begin{pmatrix} 1 & 2  & 3 & 4 & 5 \\ 3 & 1 & 2 & 5 & 4 \end{pmatrix} = 
            \begin{pmatrix} 1 & 2  & 3 & 4 & 5 \\ 2 & 3 & 1 & 4 & 5 \end{pmatrix}
$$

или то же самое, что и

$$
a^{2} =  \begin{pmatrix} 1 & 2  & 3 & 4 & 5 \\ 2 & 3 & 1 & 4 & 5 \end{pmatrix} = (1, 2, 3) \cdot (4) \cdot (5)
$$

$$
a^{3} = \begin{pmatrix} 1 & 2  & 3 & 4 & 5 \\ 3 & 1 & 2 & 5 & 4 \end{pmatrix} \circ 
        \begin{pmatrix} 1 & 2  & 3 & 4 & 5 \\ 2 & 3 & 1 & 4 & 5 \end{pmatrix} = 
        \begin{pmatrix} 2 & 3  & 1 & 4 & 5 \\ 1 & 2 & 3 & 5 & 4 \end{pmatrix} \circ 
        \begin{pmatrix} 1 & 2  & 3 & 4 & 5 \\ 2 & 3 & 1 & 4 & 5 \end{pmatrix} = 
        \begin{pmatrix} 1 & 2  & 3 & 4 & 5 \\ 1 & 2 & 3 & 5 & 4 \end{pmatrix}
$$


$$
a^3 = (1)\cdot (2) \cdot (3) \cdot (4, 5).
$$


Нам необходимо придти к виду 

$$
a^{k} = (1) \cdot (2)\cdot (3)\cdot (4)\cdot (5).
$$

Исходя из процесса последовательного применения к $a$ групповой операции, видим, что цикл $(1,3,2)$  пришел к независимому виду за $k_1 = 3$ шага, а цикл $(4, 5)$ пришел к независимому виду за $k_2 = 2$ шага. Тогда можем заметить, что $k = HOK(k_1, k_2) = 6$.

То есть, **порядок элемента группы перестановок $S_n$ равен НОК длин непересекающихся циклов в цикловой записи перестановки**.

$$
k = HOK(k_1, k_2, \dots, k_m),
$$
где $m$ -- число непересекающихся циклов в цикловой записи перестановки.

**Пример**

$$
a \in S_4: a = (1, 2, 3, 4)\rightarrow a = \begin{pmatrix} 1&2&3&4 \\ 2&3&4&1 \end{pmatrix}
$$

Применим к $a$ групповую операцию:

$$
a \circ a = a^2 = \begin{pmatrix} 2&3&4&1 \\ 3&4&1&2 \end{pmatrix} \circ \begin{pmatrix} 1&2&3&4 \\ 2&3&4&1 \end{pmatrix} = \begin{pmatrix} 1&2&3&4 \\ 3&4&1&2 \end{pmatrix}.
$$

$$
a \circ a^2 = a^3 = \begin{pmatrix} 3&4&1&2 \\ 4&1&2&3 \end{pmatrix} \circ \begin{pmatrix} 1&2&3&4 \\ 3&4&1&2 \end{pmatrix} = \begin{pmatrix} 1&2&3&4 \\ 4&1&2&3 \end{pmatrix}.
$$

$$
a \circ a^3 = a^4 = \begin{pmatrix} 4&1&2&3 \\ 1&2&3&4 \end{pmatrix} \circ \begin{pmatrix} 1&2&3&4 \\ 4&1&2&3 \end{pmatrix} = \begin{pmatrix} 1&2&3&4 \\ 1&2&3&4 \end{pmatrix}.
$$

Несложно заметить, что при $k = 4$ элемент $a^4$ переходит в нейтральный $e$ просто исходя из определения переходов элементов в перестановках.

$$
a^k = (t_1, t_2, t_3, \dots, t_{k_1})^k \cdot (p_1, p_2, \dots, p_{k_2})^k \cdot \dots \cdot (l_1, l_2, \dots, l_{k_n})^k = e, \ \ \ k = НОК(k_1, k_2, \dots, k_n)
$$


## Цикловая структура перестановки

Удобным в исследовании порядков элементов перестановки оказывается запись в виде **структуры перестановки**, именуемой $CS$ и равной вектору с координатами, равными количествам циклов с соответсвующей длиной циклов по каждой координате.

$$
CS = (c_1, c_2, c_3, \dots, c_n) = \\ 
=c_1 \cdot (1, 0, 0, \dots, 0) + c_2 \cdot (0, 1, 0, \dots, 0) + c_3 \cdot (0, 0, 1, \dots, 0) + \dots + c_n \cdot (0, 0, 0, \dots, 1) = \\ 
=c_1 \cdot 1 + c_2 \cdot 2 + c_3 \cdot 3 + \dots + c_n \cdot n,
$$
где $c_i$ -- число циклов длины $i$; $n$ -- количество элементов в подмножестве $X = \{1, 2, \dots, n\},\ capX = n$, то есть в группе $S_n$.

**Пример**. Разберем цикловую структуру перестановок в группе $S_6$:

$$
\begin{matrix}
CS &=& (c_1, c_2, c_3, c_4, c_5, c_6) & &  \\
CS &=& (6, 0, 0, 0, 0, 0) &=& 6 \cdot 1 = 6 \\
CS &=& (4, 1, 0, 0, 0, 0) &=& 4 \cdot 1 + 2\cdot 1 = 6\\
CS &=& (3, 0, 1, 0, 0, 0) &=& 3\cdot 1 + 1 \cdot 3 = 6\\
CS &=& (2, 2, 0, 0, 0, 0) &=& 2 \cdot 1 + 2\cdot 2 = 6\\
CS &=& (2, 0, 0, 1, 0, 0) &=& 2\cdot 1 + 1 \cdot 4 = 6\\
CS &=& (1, 1, 1, 0, 0, 0) &=& 1 \cdot 1 + 1\cdot 2 + 1\cdot 3 = 6\\
CS &=& (1, 0, 0, 0, 1, 0) &=& 1\cdot 1 + 1 \cdot 5 = 6\\
CS &=& (0, 3, 0, 0, 0, 0) &=& 3 \cdot 2 = 6\\
CS &=& (0, 0, 2, 0, 0, 0) &=& 2 \cdot 3 = 6\\
CS &=& (0, 1, 0, 1, 0, 0) &=& 1\cdot 2 + 1 \cdot 4 = 6\\
CS &=& (0, 0, 0, 0, 0, 1) &=& 1\cdot 6 = 6
\end{matrix}
$$



# Задачи

1. Определить мощность множества всех биекций $\delta:X\rightarrow X$ подмножества натуральных чисел $X = \{1, 2, 3, \dots, 9\}$. $capM =\  ?$

2. Примените последовательную подстановку элементов группы $\pi, \sigma, \theta \in S_4:$ $\pi = [4, 1, 2, 3]$, $\sigma = [1, 3, 2, 4]$, $\theta = [3, 2, 4, 1]$, в соответствующем порядке их объявления.

3. Составьте таблицу Кэли для полной группы перестановок симметрической группы $S_3$. Найдите все её нетривиальные подгруппы. Чему соответствуют найденные нетривиальные подгруппы.

4. Найдите все возможные порядки элементов в группе перестановок $S_6$.

5. Найдите количество элементов-циклов длины $k$ в группе перестановок $S_n$.

6. Найдите количество элементов порядка $3$ в группе $S_4$.
